#{extends 'admin.html' /}
#{set title:'日計表' /}


<script type="text/javascript">
<!--
function scrollRC()
{
  document.getElementById('trow').scrollLeft
  = document.getElementById('tbody').scrollLeft;
  document.getElementById('tcol').scrollTop
  = document.getElementById('tbody').scrollTop;
}
// -->
</script>


#{form @jump(year, month)}

	<!-- 対象年月 -->
	<input type="submit" value="<<" name="prevYear" />
	<input type="submit" value="<" name="prevMonth" />
	<label>${year}年${month}月</label>
	<input type="submit" value=">" name="nextMonth" />
	<input type="submit" value=">>" name="nextYear" />
	<input type="submit" value="今月" name="thisMonth" ${thisMonthFlg==1 ? ' disabled' : ''} />

	<table>
		<tr>
			<td valign="top">
				<div style="width:320px;">
				<table>
					<td></td>
					<td>
						<table class="dailyAccountTbl">
							<tr height="20">
								<th style="width:22px;word-break:break-all"></th>
								<th style="width:92px;word-break:break-all"></th>
								<th style="width:92px;word-break:break-all">${month}月予算</th>
								<th style="width:92px;word-break:break-all">${month}月計</th>
							</tr>
						</table>
					</td>
				</table>
				</div>
			</td>
			<td>
				<div id="trow" style="width:800px;overflow:hidden;">
				<div style="width:${iWidth}px">
				<table>
					<td></td>
					<td>  <!-- このtdの囲いが無いと、firefoxで左のborderが消えてしまう -->
						<table class="dailyAccountTbl">
							<tr height="20">
								#{list items:iAryDays, as:'iAryDay'}
									<th style="width:97px;word-break:break-all">${month}/${iAryDay}</th>
								#{/list}
							</tr>
						</table>
					</td>
				</table>
				</div>
				</div>
			</td>
		</tr>

		<tr>
			<td valign="top">
				<div id="tcol" style="height:450px;overflow:hidden;">
				<div style="width:320px;">
				<table>
					<td></td>
					<td>
						<table class="dailyAccountTbl">
							#{list items:lWDA, as:'lwda'}
								<tr height="22">
									<!-- 予算あり -->
									#{if lwda.bBudgetFlg}
										#{if lwda.sItem != ''}
											<td style="width:20px;word-break:break-all"></td>
											<td class="allLine" style="width:90px;word-break:break-all">${lwda.sItem}</td>
											<td class="allLineNum" style="width:90px;word-break:break-all">
												<input type="text"  style="width:90px;text-align:right;background-color:#ffffff;word-break:break-all;" />
											</td>
										#{/if}
										#{else}
											<td class="allLine" colspan="2" style="width:110px;word-break:break-all">${lwda.sLargeCategory}</td>
											<td class="allLineNum" style="width:90px;word-break:break-all">
												<input type="text" readonly="readonly" style="width:90px;text-align:right;background-color:#e8e8e8;word-break:break-all;" />
											</td>
										#{/else}
									#{/if}
									<!-- 予算なし -->
									#{else}
										#{if lwda.sItem != ''}
											<td style="width:20px;word-break:break-all"></td>
											<td class="allLine" colspan="2" style="width:180px;word-break:break-all">${lwda.sItem}</td>
										#{/if}
										#{else}
											<td class="allLine" colspan="3" style="width:200px;word-break:break-all">${lwda.sLargeCategory}</td>
										#{/else}
									#{/else}
									<!-- 
									<td class="allLineNum">${lwda.sSumMonth}</td>
									 -->
									<td class="allLineNum" style="width:90px;word-break:break-all">
										<input type="text" value="${lwda.sSumMonth}" readonly="readonly" style="width:90px;text-align:right;background-color:#e8e8e8;word-break:break-all;" />
									</td>
								</tr>
								
							#{/list}
						</table>
					</td>
				</table>
				</div>
				</div>
			</td>
			<td>
				<div onScroll="scrollRC()" id="tbody" style="width:816px;height:466px;overflow:auto;">
				<div style="width:${iWidth}px">
				<table>
					<td></td>
					<td>  <!-- このtdの囲いが無いと、firefoxで左のborderが消えてしまう -->
						<table class="dailyAccountTbl">
							#{list items:lWDA, as:'lwda'}
								<tr height="22">
									#{list items:lwda.sAryDays, as:'sAryDay'}
										<!-- 下のtdのstyleをmain.css内に書くと何故かレイアウトが崩れまくる -->
										<!-- 
										<td style="border: 1px solid black;text-align: right;">${sAryDay}</td>
										 -->
										<td style="border: 1px solid black;text-align: right;">
											<input type="text" value="${sAryDay}" readonly="readonly" style="width:90px;text-align:right;background-color:#e8e8e8;word-break:break-all;" />
										</td>
									#{/list}
								</tr>
								
							#{/list}
						</table>
					</td>
				</table>
				</div>
				</div>
			</td>
		</tr>

	</table>
#{/form}