<script type="text/javascript">
<!-- 
function openDialogConfirm(strCase, strUnableItem, calledFrom) {
	jQuery(function() {
		var title,
			buttons = {},
			btn1Title,
			inTime = new Date(),
			intRslt = 0;
		
		// 親画面でEnterが押された時はそれを無効に
		jQuery(window).keypress(function(ek){
			if ((ek.which && ek.which == 13) || (ek.keyCode && ek.keyCode == 13)) {
				pressTime = new Date();
				if (pressTime.getTime()-inTime.getTime() < 300) {
					return false;
				} else {
					return true;
				}
			}else{
				return true;
			}
		});
		
		title = strCase+"&{'views.dialogConfirm.suffix.title'}";
		jQuery("#text1").text(strCase+"&{'views.dialogConfirm.suffix.text1'}");
		jQuery("#text2").text("&{'views.dialogConfirm.preffix.text2'}"+strUnableItem+"&{'views.dialogConfirm.suffix.text2'}");
		jQuery("#text3").text(strCase+"&{'views.dialogConfirm.suffix.text3'}");
		btn1Title = strCase+"&{'views.dialogConfirm.suffix.btn'}";
		if (strCase=="&{'views.dialogConfirm.case.bkem'}") {
			buttons["&{'views.dialogConfirm.bkem.btn.makeBank'}"] = function() {
				intRslt = 1;
				jQuery(this).dialog("close");
			}
			buttons["&{'views.dialogConfirm.bkem.btn.makeEmoney'}"] = function() {
				intRslt = 2;
				jQuery(this).dialog("close");
			}
		}
		if (strCase=="&{'views.dialogConfirm.case.prlt'}") {
			buttons[btn1Title] = function() {
				intRslt = 3;
				jQuery(this).dialog("close");
			}
		}
		if (strCase=="&{'views.dialogConfirm.case.itemIn'}") {
			buttons[btn1Title] = function() {
				intRslt = 4;
				jQuery(this).dialog("close");
			}
		}
		if (strCase=="&{'views.dialogConfirm.case.itemOut'}") {
			buttons[btn1Title] = function() {
				intRslt = 5;
				jQuery(this).dialog("close");
			}
		}
		buttons["&{'views.common.btn.cancel'}"] = function() {
			jQuery(this).dialog("close");
		}
		
		jQuery("#dialog-confirm").dialog({
			autoOpen: false,
			resizable: false,
//			width:460,
			width:'auto',
			create: function( event, ui ) {
				jQuery(this).css("maxWidth", "460px");
			},
			modal: true,
			title: title,
			closeOnEscape: false,
			buttons: buttons,
			close: function() {
				//ダイアログクローズ時の処理は呼び出し元で行う
//				whenDialogConfirmClosed(intRslt);
				switch (calledFrom) {
					case "dialogFrmUpdRec":
						whenDialogConfirmClosedDfur(intRslt);
						break;
					case "dl_header":
						whenDialogConfirmClosedDl(intRslt);
						break;
					default:
						alert("Unanticipated calledFrom error");
				}
			}
		});
		jQuery("#dialog-confirm").dialog("open");
	});
}
// -->
</script>

<!-- マスター未作成ダイアログ（非表示） -->
<div id="dialog-confirm" class="invisible">
<p>
	<span class="ui-icon ui-icon-alert" style="float: left; margin: 0 7px 20px 0;"></span>
	<div id="text1"></div>
	<div id="text2"></div>
	<br/>
	<br/>
	<div id="text3"></div>
</p>
</div>
